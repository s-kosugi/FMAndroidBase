/*==============================================================================*/
/*																				*/
/*	@file title	:	cDeadEffect.cpp												*/
/*  @brief		:	死亡エフェクトクラス										*/
/*	@written	:	s.kosugi													*/
/*	@create		:   2020/08/22													*/
/*																				*/
/*==============================================================================*/

#include "cDeadEffect.h"

//==========================================================================================
// 定数
//==========================================================================================
const int	cDeadEffect::PRIORITY = 400;

//==========================================================================================
// コンストラクタ
//==========================================================================================
cDeadEffect::cDeadEffect(IBaseObject * parent)
	: IEffect(parent, "DeadEffect", "data\\graphic\\dead_effect.png")
	, m_vVelocity()
{
	SetPriority(PRIORITY);
}

//==========================================================================================
// 初期化
//==========================================================================================
void cDeadEffect::Initialize(const cVector2 & pos)
{
	// アニメーション初期設定
	SetupAnime({ 128,128 }, 4, 23, 0.02f);

	SetScale(0.5f);

	IEffect::Initialize(pos);
}
//==========================================================================================
// 更新
//==========================================================================================
void cDeadEffect::Update(void)
{
	m_vPos += m_vVelocity;
	IEffect::Update();
}
//==========================================================================================
// 移動設定
//==========================================================================================
void cDeadEffect::SetMove(float angle, float power)
{
	float rad = DEG_TO_RAD(angle);
	m_vVelocity.x = cos(rad) * power;
	m_vVelocity.y = sin(rad) * power;
}
